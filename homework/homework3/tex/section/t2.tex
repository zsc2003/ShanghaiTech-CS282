\textcolor{blue}{Problem 2}
For linear regression, the out-of-sample error is 
\begin{equation}
    E_{\text{out}}(h)=\mathbb{E}[{(h(x)-y)}^2].
\end{equation}
Show that among all hypotheses, the one that minimizes $E_{\text{out}}$ is given by
\begin{equation}
    h^*(x)=\mathbb{E}[y|x].
\end{equation}
The function $h^*$ can be treated as a deterministic target function, in which case we can write $y=h^*(x)+\epsilon(x)$ where $\epsilon(x)$ is an (input dependent) noise variable. Show that $\epsilon(x)$ has expected value zero.
\newline
\textcolor{blue}{Solution}\\
Lamma: The law of iterated Expectation

$$
\mathbb{E}(Y)=\mathbb{E}_X[\mathbb{E}(Y|X)]
$$

$$
\begin{aligned}
& L H S=\mathbb{E}(Y)=\int_{-\infty}^{+\infty} y f_y(y) d y \\
& R H S=\mathbb{E}_X\left[\int_{-\infty}^{+\infty} y \frac{f(x, y)}{f_x(x)} d y\right] \\
&=\int_{-\infty}^{+\infty}\left[\int_{-\infty}^{+\infty} y \frac{f(x, y)}{f_x(x)} d y\right] f_x(x) d x \\
&=\int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} y f(x, y) d x d y \\
&=\int_{-\infty}^{+\infty} y\left[\int_{-\infty}^{+\infty} f(x, y) d x\right] d y \\
&=\int_{-\infty}^{+\infty} y f_y(y) d y \\
&=L H S
\end{aligned}
$$










\newpage